{
  "permissions": {
    "allow": [
      "Bash(npx create-next-app:*)",
      "Bash(npm install:*)",
      "Bash(npm run dev:*)",
      "Bash(timeout:*)",
      "Bash(taskkill:*)",
      "Bash(netstat:*)",
      "Bash(findstr:*)",
      "Bash(nul)",
      "Bash(cat:*)",
      "Bash(curl:*)",
      "Bash(python -m json.tool:*)",
      "Bash(node test-karma.js:*)",
      "Bash(npm run build:*)",
      "Bash(npx tsc:*)",
      "Bash(git add:*)",
      "Bash(git commit -m \"$(cat <<''EOF''\nAdd fixed database migrations for provider schedules and integration support\n\nFixed Migration Issues:\n- Removed problematic GIST overlap constraint that required btree_gist extension\n- Added IF NOT EXISTS checks to prevent errors on re-run\n- Added proper error handling for missing tables\n- Added ON CONFLICT DO NOTHING for idempotent inserts\n\nMigration 004 (Provider Schedules):\n- Creates provider_schedules table with all necessary fields\n- Seeds Dr. Sarah Jones with schedules at 3 lab locations\n- Includes staff assignments, hours, and location details\n- Safe to run multiple times\n\nMigration 005 (Integration Support):\n- Adds integration fields to provider_schedules table\n- Creates integration_credentials table for OAuth tokens\n- Creates sync_log table for audit trail\n- Validates provider_schedules exists before proceeding\n- Handles constraint additions gracefully\n\nDatabase Status:\n- Both migrations tested and verified working in Supabase\n- Provider availability management UI now has real data\n- AI scheduling can use actual provider schedules\n- Integration architecture fully supported in database\n\nðŸ¤– Generated with [Claude Code](https://claude.com/claude-code)\n\nCo-Authored-By: Claude <noreply@anthropic.com>\nEOF\n)\")",
      "Bash(git commit -m \"$(cat <<''EOF''\nAdd comprehensive appointment management and booking features\n\nNew Features:\n- Book appointment functionality for both caregiver and patient dashboards\n  - Caregiver: Select family member + provider dropdown\n  - Patient: Select provider dropdown\n  - Auto-redirect to AI scheduler after booking\n- Reschedule and cancel buttons on all appointments\n  - Clear reschedule flow with blue banner (no premature cancellation)\n  - Cancel button calls existing cancel API\n- Migration 011: Schedule appointments for all family members\n  - Emma, Lucas, Sofia each get scheduled appointments\n  - Ruthie gets 4 recurring speech therapy sessions (Tuesdays at 2:00 PM)\n\nCritical Fixes:\n- AI scheduler now checks for appointment conflicts to prevent double-booking\n  - Fetches existing appointments for patient\n  - Includes them in AI prompt as conflicts to avoid\n  - Mock mode also filters out conflicting dates\n- Removed duplicate availability preference buttons\n  - Kept clean header button only\n  - Removed redundant blue banner\n\nDocumentation:\n- Added Phase 2 calendar integration spec (Google Calendar OAuth)\n  - Complete implementation guide for future development\n  - Database schema, API routes, UI components\n  - Estimated 4-5 hours implementation time\n\nDatabase:\n- Migration 011 ready to run (creates scheduled appointments for family)\n\nðŸ¤– Generated with [Claude Code](https://claude.com/claude-code)\n\nCo-Authored-By: Claude <noreply@anthropic.com>\nEOF\n)\")",
      "Bash(git push)",
      "Bash(git commit:*)",
      "Bash(npx supabase:*)"
    ],
    "deny": [],
    "ask": []
  }
}
